/*! For license information please see decidim_core-90972058357efb7d2f7f.js.LICENSE.txt */
!function(){var e,t={65615:function(e,t,n){var i={"./decidim/avatar-multiuser.png":88450,"./decidim/brands/google.svg":93970,"./decidim/cc-badge.png":28733,"./decidim/decidim-logo.svg":47294,"./decidim/default-avatar.svg":62938,"./decidim/gamification/badges/decidim_gamification_badges_followers.svg":16536,"./decidim/icons.svg":72096,"./decidim/pattern.png":39547,"./decidim/placeholder.jpg":19124,"./decidim/vendor/leaflet/layers-2x.png":98188,"./decidim/vendor/leaflet/layers.png":6137,"./decidim/vendor/leaflet/marker-icon-2x.png":69857,"./decidim/vendor/leaflet/marker-icon.png":86464,"./decidim/vendor/leaflet/marker-shadow.png":48824,"./decidim/vendor/social-share-button/delicious.svg":40696,"./decidim/vendor/social-share-button/douban.svg":609,"./decidim/vendor/social-share-button/email.svg":96318,"./decidim/vendor/social-share-button/facebook.svg":13979,"./decidim/vendor/social-share-button/google_bookmark.svg":56456,"./decidim/vendor/social-share-button/google_plus.svg":78242,"./decidim/vendor/social-share-button/hacker_news.svg":51109,"./decidim/vendor/social-share-button/linkedin.svg":72358,"./decidim/vendor/social-share-button/odnoklassniki.svg":28959,"./decidim/vendor/social-share-button/pinterest.svg":41086,"./decidim/vendor/social-share-button/qq.svg":28930,"./decidim/vendor/social-share-button/reddit.svg":7823,"./decidim/vendor/social-share-button/telegram.svg":83818,"./decidim/vendor/social-share-button/tumblr.svg":32315,"./decidim/vendor/social-share-button/twitter.svg":27356,"./decidim/vendor/social-share-button/vkontakte.svg":87996,"./decidim/vendor/social-share-button/wechat.svg":8478,"./decidim/vendor/social-share-button/weibo.svg":47384,"./decidim/vendor/social-share-button/whatsapp.svg":52098,"./decidim/vendor/social-share-button/xing.svg":93211};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id=65615},48999:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=48999,e.exports=t},97678:function(e,t,n){"use strict";n(92087),n(84633),n(62172),n(85392);var i=n(23972),a=n.n(i),r=(n(35666),n(39492)),o=(n(41397),n(16135),n(92879),n(3322),n(98731),n(55174),n(19421),n(32616)),c=function(e,t){var n=e.closest("form");if(!(n.length<1)){var i=n.find("button[type='submit']");0===t.children().length?i.prop("disabled",!0):i.prop("disabled",!1)}};function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(a=i.key,r=void 0,r=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===s(r)?r:String(r)),i)}var a,r}$((function(){var e=$(".multiple-mentions");if(!(e.length<1)){var t=window.Decidim.config.get("messages").mentionsModal||{},n=$("input",e),i=$("ul.".concat(n.data().selected)),a=e.data(),r=[],s=window.Decidim.config.get("icons_path"),u=t.removeRecipient||"Remove recipient %name%",l=e[0].querySelector(".empty-list");l||((l=document.createElement("div")).tabIndex="-1",l.className="empty-list",i.before(l)),c(e,i);var d=new o.Z(n[0],{dataMatchKeys:["name","nickname"],dataSource:function(e,t){$.post("/api",{query:'\n          {\n            users(filter:{wildcard:"'.concat(e,'",excludeIds:[]})\n              {\n                id,nickname,name,avatarUrl,__typename,...on UserGroup{membersCount},...on User{\n                  directMessagesEnabled\n                }\n              }\n          }')}).then((function(e){t(e.data.users)}))},dataFilter:function(e){return e.filter((function(e){return!r.includes(e.value.id)}))},modifyResult:function(e,t){$(e).html('\n        <span class="author__avatar"><img src="'.concat(t.avatarUrl,'" alt="').concat(t.name,'"></span>\n        <strong>').concat(t.nickname,"</strong>\n        <small>").concat(t.name,"</small>\n      ")),"false"===t.directMessagesEnabled&&($(e).addClass("disabled"),$(e).append("<span>".concat(n.data().directMessagesDisabled,"</span>"))),t.membersCount&&$(e).append('<span class="is-group">'.concat(t.membersCount,'x <svg class="icon--members icon"><use href="').concat(s,'#icon-members"/></svg></span>'))}});n.on("selection",(function(t){var n=t.detail.selection,o=n.value.id;if(!(r.length>=9||"false"===n.value.directMessagesEnabled)){var s=u.replace("%name%",n.value.name);i.append('\n      <li tabindex="-1">\n        <input type="hidden" name="'.concat(a.name,'" value="').concat(o,'">\n        <img src="').concat(n.value.avatarUrl,'" class="author__avatar" alt="').concat(n.value.name,'">\n        <b>').concat(n.value.name,'</b>\n        <button type="button" class="float-right" data-remove="').concat(o,'" tabindex="0" aria-controls="0" aria-label="').concat(s,'">&times;</button>\n      </li>\n    ')),d.setInput(""),r.push(o),c(e,i),i.find('*[data-remove="'.concat(o,'"]')).on("keypress click",(function(t){var n=t.target.parentNode;if("LI"===n.tagName){var a=n.nextElementSibling||n.previousElementSibling||l;r=r.filter((function(e){return e!==o})),n.remove(),c(e,i),a.focus()}}))}}))}}));var l="%count%",d={charactersAtLeast:{one:"at least ".concat(l," character"),other:"at least ".concat(l," characters")},charactersLeft:{one:"".concat(l," character left"),other:"".concat(l," characters left")}},f=d,m=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$input=t,this.$target=$(this.$input.data("remaining-characters")),this.minCharacters=parseInt(this.$input.attr("minlength"),10),this.maxCharacters=parseInt(this.$input.attr("maxlength"),10),this.describeByCounter="undefined"===typeof this.$input.attr("aria-describedby"),this.maxCharacters>10?(this.maxCharacters>100?this.announceThreshold=Math.floor(.1*this.maxCharacters):this.announceThreshold=10,this.announceEveryThreshold=10):(this.announceThreshold=1,this.announceEveryThreshold=1);var i=this.$target.attr("id");"undefined"===typeof i&&(i=this.$input.attr("id")&&this.$input.attr("id").length>0?"".concat(this.$input.attr("id"),"_characters"):"characters_".concat(Math.random().toString(36).substr(2,9))),this.$target.length>0?this.$target.attr("id",i):(this.$target=$('<span id="'.concat(i,'" class="form-input-extra-before" />')),this.$input.parent().is(".editor")?this.$input.parent().after(this.$target):this.$input.parent().is(".columns")&&this.$input.parent().parent().is(".row")?this.$input.parent().parent().after(this.$target):this.$input.after(this.$target)),this.$target.length>0&&(this.maxCharacters>0||this.minCharacters>0)&&(this.$srTarget=$('<span role="status" id="'.concat(i,'_sr" class="show-for-sr remaining-character-count-sr" />')),this.$target.before(this.$srTarget),this.$target.attr("aria-hidden","true"),this.$userInput=this.$input,Quill&&this.$input.parent().is(".editor")?setTimeout((function(){n.editor=Quill.find(n.$input.siblings(".editor-container")[0]),n.$userInput=$(n.editor.root),n.initialize()})):this.initialize())}var t,n,i;return t=e,n=[{key:"initialize",value:function(){this.updateInputLength(),this.previousInputLength=this.inputLength,this.bindEvents(),this.setDescribedBy(!0)}},{key:"setDescribedBy",value:function(e){this.describeByCounter&&(e?this.$userInput.attr("aria-describedby",this.$srTarget.attr("id")):this.$userInput.removeAttr("aria-describedby"))}},{key:"bindEvents",value:function(){var e=this;this.editor?this.editor.on("text-change",(function(){e.handleInput()})):this.$userInput.on("input",(function(){e.handleInput()})),this.$userInput.on("keyup",(function(){e.updateStatus()})),this.$userInput.on("focus",(function(){e.updateScreenReaderStatus()})),this.$userInput.on("blur",(function(){e.updateScreenReaderStatus(),e.setDescribedBy(!0)})),null!==this.$userInput.get(0)&&this.$userInput.get(0).addEventListener("emoji.added",(function(){e.updateStatus()})),this.updateStatus(),this.updateScreenReaderStatus()}},{key:"getInputLength",value:function(){return this.inputLength}},{key:"updateInputLength",value:function(){this.previousInputLength=this.inputLength,this.editor?this.inputLength=this.editor.getLength():this.inputLength=this.$input.val().length}},{key:"handleInput",value:function(){this.updateInputLength(),this.checkScreenReaderUpdate(),this.setDescribedBy(!1)}},{key:"getInputDirection",value:function(){return this.inputLength<this.previousInputLength?"del":"ins"}},{key:"getScreenReaderLength",value:function(){var e=this.getInputLength();if(this.maxCharacters<10)return e;if(this.maxCharacters-e<=this.announceEveryThreshold)return e;var t=e-e%this.announceThreshold;if("del"===this.getInputDirection()){if(t===e)return t;if(this.maxCharacters-t===this.announceThreshold)return this.announcedAt||e;if(t<e)return t+this.announceThreshold}else if(t<this.announcedAt)return this.announcedAt;return t}},{key:"getMessages",value:function(){var e=[],t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===t&&(t=this.getInputLength()),this.minCharacters>0){var n=f.charactersAtLeast.other;1===this.minCharacters&&(n=f.charactersAtLeast.one),e.push(n.replace(l,this.minCharacters))}if(this.maxCharacters>0){var i=this.maxCharacters-t,a=f.charactersLeft.other;1===i&&(a=f.charactersLeft.one),this.$input[0].dispatchEvent(new CustomEvent("characterCounter",{detail:{remaining:i}})),e.push(a.replace(l,i))}return e}},{key:"updateStatus",value:function(){this.$target.text(this.getMessages().join(", "))}},{key:"checkScreenReaderUpdate",value:function(){if(!(this.maxCharacters<1)){var e=this.getScreenReaderLength();e!==this.announcedAt&&(this.announcedAt=e,this.updateScreenReaderStatus(e))}}},{key:"updateScreenReaderStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$srTarget.text(this.getMessages(e).join(", "))}}],i=[{key:"configureMessages",value:function(e){f=$.extend(d,e)}}],n&&u(t.prototype,n),i&&u(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),p=function(e){"undefined"!==typeof e&&e.length&&e.data("remaining-characters-counter",new m(e))};$((function(){$("input[type='text'], textarea, .editor>input[type='hidden']").each((function(e,t){var n=$(t);(n.is("[minlength]")||n.is("[maxlength]"))&&p(n)}))}));n(12624);var h=n(11440),v=n.n(h),g=n(49205);$((function(){$("[data-dropdown-menu]").on("show.zf.dropdownMenu",(function(e,t){$("li:first > a",t).focus()}))}));var b=n(95801),y=n(83307),w={role:"img","aria-hidden":"true"};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(a=i.key,r=void 0,r=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==k(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===k(r)?r:String(r)),i)}var a,r}var _=["card--list__data__icon","footer-social__icon","logo-cityhall"],x=["editor-container"],C=["license","decidim"],E={externalLink:"External link"},A=E,j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$link=t,this.setup()}var t,n,i;return t=e,n=[{key:"setup",value:function(){var e=this;if(!_.some((function(t){return e.$link.hasClass(t)}))&&!x.some((function(t){return e.$link.parents().hasClass(t)}))&&!C.some((function(t){return"".concat(e.$link.attr("rel")).split(" ").indexOf(t)>-1}))){var t=this.$link;this.$link[0].hasAttribute("data-external-link-target")&&(t=$(this.$link.data("external-link-target"),this.$link)).length<1&&(t=this.$link),t.addClass("external-link-container");var n="&nbsp;";this.$link[0].hasAttribute("data-external-link-spacer")?n=this.$link.data("external-link-spacer"):t.text().trim().length<1&&(n=""),t.append("".concat(n).concat(this.generateElement()))}}},{key:"generateElement",value:function(){var e="".concat(this.generateIcon()).concat(this.generateScreenReaderLabel());return'<span class="external-link-indicator">'.concat(e,"</span>")}},{key:"generateIcon",value:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=$.extend(w,t),i=n.title||n.ariaLabel;Reflect.deleteProperty(n,"title");var a={class:"icon icon--".concat(e)};Object.keys(n).forEach((function(e){var t=e.replace(/([A-Z])/g,(function(e){return"-".concat(e[0].toLowerCase())}));"undefined"===typeof a[e]?a[t]=n[e]:a[t]="".concat(a[t]," ").concat(n[e])}));var r=window.Decidim.config.get("icons_path"),o='<svg><use href="'.concat(r,"#icon-").concat(e,'"></use></svg>'),c=$(o);return i?c.prepend("<title>".concat(i,"</title>")):(c.prepend("<title>".concat(e,"</title>")),a["aria-hidden"]="true"),c.attr(a),$("<div />").append(c).html()}("external-link")}},{key:"generateScreenReaderLabel",value:function(){return'<span class="show-for-sr">('.concat(A.externalLink,")</span>")}}],i=[{key:"configureMessages",value:function(e){A=$.extend(E,e)}}],n&&S(t.prototype,n),i&&S(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e){var t=window.Decidim.config.get("external_domain_whitelist");"/link"!==window.location.pathname&&$("a",e).filter((function(e,n){var i=$(n);if(!i[0].hasAttribute("href")||i.parents(".editor-container").length>0)return!1;var a=i.attr("href").match(/^(([a-z]+):)?\/\/([^/:]+)(:[0-9]*)?(\/.*)?$/)||null;if(!a)return!1;var r=a[3].replace(/^www\./,"");return!t.includes(r)})).each((function(e,t){var n=$(t),i="/link?external_url=".concat(encodeURIComponent(n.attr("href")));n.attr("href",i),n.attr("data-remote",!0)}))}function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function L(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(a=i.key,r=void 0,r=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==I(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===I(r)?r:String(r)),i)}var a,r}var O={correctErrors:"There are errors on the form, please correct them."},P=O,q=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$form=t,this.$form.on("form-error.decidim",(function(){n.handleError()}))}var t,n,i;return t=e,i=[{key:"configureMessages",value:function(e){P=$.extend(O,e)}}],(n=[{key:"handleError",value:function(){this.announceFormError(),$(".is-invalid-input:first",this.$form).focus()}},{key:"announceFormError",value:function(){var e=$(".sr-announce",this.$form);e.length>0&&e.remove(),(e=$("<div />")).attr("class","sr-announce show-for-sr"),e.attr("aria-live","assertive"),this.$form.prepend(e),setTimeout((function(){e.text(P.correctErrors)}),100)}}])&&L(t.prototype,n),i&&L(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return(t=R(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,R(i.key),i)}}function R(e){var t=function(e,t){if("object"!==N(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==N(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===N(t)?t:String(t)}$((function(){$("form").each((function(e,t){$(t).data("form-validator",new q($(t)))})),$(document).on("forminvalid.zf.abide",(function(e,t){t.trigger("form-error.decidim")}))}));var F=window.$,B=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=t,this.commentableGid=n.commentableGid,this.commentsUrl=n.commentsUrl,this.rootDepth=n.rootDepth,this.order=n.order,this.lastCommentId=n.lastCommentId,this.pollingInterval=n.pollingInterval||15e3,this.singleComment=n.singleComment,this.toggleTranslations=n.toggleTranslations,this.id=this.$element.attr("id")||this._getUID(),this.mounted=!1}var t,n,i;return t=e,n=[{key:"mountComponent",value:function(){var e=this;this.$element.length>0&&!this.mounted&&(this.mounted=!0,this._initializeComments(this.$element),this.singleComment||(F(".add-comment textarea",this.$element).prop("disabled",!0),this._fetchComments((function(){F(".add-comment textarea",e.$element).prop("disabled",!1)}))),F(".order-by__dropdown .is-submenu-item a",this.$element).on("click.decidim-comments",(function(){return e._onInitOrder()})))}},{key:"unmountComponent",value:function(){var e=this;this.mounted&&(this.mounted=!1,this._stopPolling(),F(".add-comment .opinion-toggle .button",this.$element).off("click.decidim-comments"),F(".add-comment textarea",this.$element).off("input.decidim-comments"),F(".order-by__dropdown .is-submenu-item a",this.$element).off("click.decidim-comments"),F(".add-comment form",this.$element).off("submit.decidim-comments"),F(".add-comment textarea",this.$element).each((function(t,n){return n.removeEventListener("emoji.added",e._onTextInput)})))}},{key:"addThread",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=F(".comments:first",this.$element),i=F(e),a=F(".comment-threads",this.$element);this._addComment(a,i),this._finalizeCommentCreation(n,t)}},{key:"addReply",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=F("#comment_".concat(e)),a=F(t),r=F("#comment-".concat(e,"-replies"));this._addComment(r,a),r.siblings(".comment__additionalreply").removeClass("hide"),this._finalizeCommentCreation(i,n)}},{key:"_getUID",value:function(){return"comments-".concat((new Date).setUTCMilliseconds(),"-").concat(Math.floor(1e7*Math.random()))}},{key:"_initializeComments",value:function(e){var t=this;F(".add-comment",e).each((function(e,n){var i=F(n),a=F("form",i),r=F(".opinion-toggle .button",i),o=F("textarea",a);r.on("click.decidim-comments",t._onToggleOpinion),o.on("input.decidim-comments",t._onTextInput),F(document).trigger("attach-mentions-element",[o.get(0)]),a.on("submit.decidim-comments",(function(){F("button[type='submit']",a).attr("disabled","disabled"),t._stopPolling()})),o.length&&null!==o.get(0)&&o.get(0).addEventListener("emoji.added",t._onTextInput)}))}},{key:"_addComment",value:function(e,t){var n=F(".comment",t);n.length<1&&(n=t),this.lastCommentId=parseInt(n.data("comment-id"),10),e.append(t),t.foundation(),this._initializeComments(t),p(F(".add-comment textarea",t)),t.find('a[target="_blank"]').each((function(e,t){var n=F(t);n.data("external-link",new j(n))})),T(t)}},{key:"_finalizeCommentCreation",value:function(e,t){if(t){var n=F("> .add-comment",e),i=F("textarea",n),a=i.data("remaining-characters-counter");i.val(""),a&&a.updateStatus(),n.parent().is(".comments")||n.addClass("hide")}this._pollComments()}},{key:"_pollComments",value:function(){var e=this;this._stopPolling(),this.pollTimeout=setTimeout((function(){e._fetchComments()}),this.pollingInterval)}},{key:"_fetchComments",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a().ajax({url:this.commentsUrl,type:"GET",data:new URLSearchParams(U(U({commentable_gid:this.commentableGid,root_depth:this.rootDepth,order:this.order,after:this.lastCommentId},this.toggleTranslations&&{toggle_translations:this.toggleTranslations}),this.lastCommentId&&{after:this.lastCommentId})),success:function(){t&&t(),e._pollComments()}})}},{key:"_stopPolling",value:function(){this.pollTimeout&&clearTimeout(this.pollTimeout)}},{key:"_setLoading",value:function(){var e=F("> .comments-container",this.$element);F("> .comments",e).addClass("hide"),F("> .loading-comments",e).removeClass("hide")}},{key:"_onInitOrder",value:function(){this._stopPolling(),this._setLoading()}},{key:"_onToggleOpinion",value:function(e){var t=F(e.target);t.is(".button")||(t=t.parents(".button"));var n=t.closest(".add-comment"),i=F("form",n),a=F(".opinion-toggle .button",n),r=F(".opinion-toggle .selected-state",n),o=F(".alignment-input",i);a.removeClass("is-active").attr("aria-pressed","false"),t.addClass("is-active").attr("aria-pressed","true"),t.is(".opinion-toggle--ok")?o.val(1):t.is(".opinion-toggle--meh")?o.val(0):t.is(".opinion-toggle--ko")&&o.val(-1),r.text(t.data("selected-label"))}},{key:"_onTextInput",value:function(e){var t=F(e.target),n=t.closest(".add-comment"),i=F("form",n),a=F("button[type='submit']",i);t.val().length>0?a.removeAttr("disabled"):a.attr("disabled","disabled")}}],n&&z(t.prototype,n),i&&z(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),G=n(85201),Z=n(93084),H=n(69311);function J(){var e=document.querySelectorAll("[data-input-emoji]");e.length&&e.forEach((function(e){var t,n=new H.K({position:"bottom-end",rootElement:(null===(t=e.closest("form"))||void 0===t?void 0:t.parentElement)||document.body,zIndex:2e3}),i=e.closest("[data-reveal]");i&&(i.style.overflowY="unset");var a=document.createElement("div");a.className="emoji__container";var r=document.createElement("div");r.className="emoji__trigger";var o=document.createElement("div");o.className="emoji__button",o.innerHTML='<svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="smile" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm4 72.6c-20.8 25-51.5 39.4-84 39.4s-63.2-14.3-84-39.4c-8.5-10.2-23.7-11.5-33.8-3.1-10.2 8.5-11.5 23.6-3.1 33.8 30 36 74.1 56.6 120.9 56.6s90.9-20.6 120.9-56.6c8.5-10.2 7.1-25.3-3.1-33.8-10.1-8.4-25.3-7.1-33.8 3.1z"></path></svg>';var c=e.parentNode;c.insertBefore(a,e),a.appendChild(e),a.appendChild(r),r.appendChild(o),c.querySelectorAll(".form-error").forEach((function(e){return a.appendChild(e)}));var s=function(){n.togglePicker(r)};r.addEventListener("click",s),e.addEventListener("characterCounter",(function(e){e.detail.remaining>=4?(r.addEventListener("click",s),r.removeAttribute("style")):(r.removeEventListener("click",s),r.setAttribute("style","color:lightgrey"))})),n.on("emoji",(function(t){var n=t.emoji;e.value+=" ".concat(n," ");var i=new Event("emoji.added");e.dispatchEvent(i)}))}))}var W=n(39281);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function Q(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(a=i.key,r=void 0,r=function(e,t){if("object"!==V(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==V(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===V(r)?r:String(r)),i)}var a,r}var K="focusguard",Y=["A","IFRAME","OBJECT","EMBED"],X=["BUTTON","INPUT","TEXTAREA","SELECT"],ee=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.guardedElement=null}var t,n,i;return t=e,(n=[{key:"trap",value:function(e){this.guardedElement&&W.N1.releaseFocus($(this.guardedElement)),this.enable(),this.guardedElement=e,W.N1.releaseFocus($(e)),W.N1.trapFocus($(e))}},{key:"enable",value:function(){var e=this,t=this.container.querySelectorAll(":scope > .".concat(K));if(t.length>0)t.forEach((function(t){"start"===t.dataset.position?e.container.prepend(t):e.container.append(t)}));else{var n=this.createFocusGuard("start"),i=this.createFocusGuard("end");this.container.prepend(n),this.container.append(i),n.addEventListener("focus",(function(){return e.handleContainerFocus(n)})),i.addEventListener("focus",(function(){return e.handleContainerFocus(i)}))}}},{key:"disable",value:function(){this.container.querySelectorAll(":scope > .".concat(K)).forEach((function(e){return e.remove()})),this.guardedElement&&(W.N1.releaseFocus($(this.guardedElement)),this.guardedElement=null)}},{key:"createFocusGuard",value:function(e){var t=document.createElement("div");return t.className=K,t.dataset.position=e,t.tabIndex=0,t.setAttribute("aria-hidden","true"),t}},{key:"handleContainerFocus",value:function(e){var t=this;if(this.guardedElement){var n=Array.from(this.guardedElement.querySelectorAll("*")).filter((function(e){return t.isVisible(e)})),i=null;if("start"===e.dataset.position){for(var a=0;a<n.length;a+=1)if(!this.isFocusGuard(n[a])&&this.isFocusable(n[a])){i=n[a];break}}else for(var r=n.length-1;r>=0;r-=1)if(!this.isFocusGuard(n[r])&&this.isFocusable(n[r])){i=n[r];break}i?i.focus():e.blur()}else e.blur()}},{key:"isVisible",value:function(e){return e.offsetWidth>0||e.offsetHeight>0}},{key:"isFocusGuard",value:function(e){return e.classList.contains(K)}},{key:"isFocusable",value:function(e){if(Y.indexOf(e.nodeName)>-1)return!0;if(X.indexOf(e.nodeName)>-1||e.getAttribute("contenteditable"))return!e.getAttribute("disabled");var t=parseInt(e.getAttribute("tabindex"),10);return!isNaN(t)&&t>=0}}])&&Q(t.prototype,n),i&&Q(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();window.Decidim=window.Decidim||{},window.Decidim.config=new y.Z,window.Decidim.ExternalLink=j,window.Decidim.InputCharacterCounter=m,window.Decidim.FormValidator=q,window.Decidim.DataPicker=G.Z,window.Decidim.CommentsComponent=B,window.Decidim.addInputEmoji=J,$((function(){window.theDataPicker=new G.Z($(".data-picker")),window.focusGuard=new ee(document.querySelector("body")),$(document).foundation(),$(document).on("open.zf.reveal",(function(e){$(e.target).each((function(e,t){var n=$(t),i=$("body"),a=$(".reveal__title:first",n);a.length>0&&(a.attr("tabindex",a.attr("tabindex")||-1),a.trigger("focus")),n.off("closed.zf.reveal.focusguard").on("closed.zf.reveal.focusguard",(function(){n.off("closed.zf.reveal.focusguard");var e=$(".reveal:visible:last",i);e.length>0?window.focusGuard.trap(e[0]):window.focusGuard.disable()})),window.focusGuard.trap(t)}))})),$("#offCanvas").on("openedEnd.zf.offCanvas",(function(e){e.target.querySelector(".main-nav a").focus(),window.focusGuard.trap(e.target)})).on("closed.zf.offCanvas",(function(){window.focusGuard.disable()})),$("[data-dropdown-menu]").each((function(e,t){$("li.is-dropdown-submenu-parent",t).removeAttr("aria-haspopup").removeAttr("aria-label"),$("li.is-dropdown-submenu-parent > a:first",t).removeAttr("aria-label"),$("ul.is-dropdown-submenu",t).attr("role","menu")})),v()(),$("[data-open]").on("click",(function(e){e.preventDefault()})),(0,g.Z)(),$(".editor-container").each((function(e,t){(0,b.Z)(t)})),$('a[target="_blank"]').each((function(e,t){var n=$(t);n.data("external-link",new j(n))})),$("[data-decidim-comments]").each((function(e,t){var n=$(t),i=new B(n,n.data("decidim-comments"));i.mountComponent(),$(t).data("comments",i)})),$("form.new_filter").each((function(){new Z.Z($(this)).mountComponent()})),T($("body")),J(),function(e){if(e&&window.sessionStorage){var t=JSON.parse(sessionStorage.getItem("filteredParams"))||{};e.forEach((function(e){var n=e.getAttribute("href");t[n]&&e.setAttribute("href",t[n])}))}}(document.querySelectorAll(".js-back-to-list"))}));var te=n(3432),ne=(n(31013),n(83817)),ie=n.n(ne);$((function(){$(document).on("click","[data-clipboard-copy]",(function(e){var t=$(e.target);if(t.data("clipboard-copy")&&!(t.data("clipboard-copy").length<1)){var n=$(t.data("clipboard-copy"));if(!(n.length<1)&&n.is("input, textarea, select")){var i=ie()(n[0]);if(i&&!(i.length<1)){var a=$("<textarea>".concat(i,"</textarea>")).css({width:1,height:1});t.after(a),a.select();var r=function(){a.remove(),t.focus()};try{if(!document.execCommand("copy"))return}catch(l){return void r()}r();var o=t.data("clipboard-copy-label");if(o){var c=t.data("clipboard-copy-label-timeout");c&&clearTimeout(c),t.data("clipboard-copy-label-original")||t.data("clipboard-copy-label-original",t.html()),t.html(o),c=setTimeout((function(){t.html(t.data("clipboard-copy-label-original")),t.removeData("clipboard-copy-label-original"),t.removeData("clipboard-copy-label-timeout")}),5e3),t.data("clipboard-copy-label-timeout",c)}var s=t.data("clipboard-copy-message");if(s){var u=t.data("clipboard-message-element");u?u.html()===s&&(s+="&nbsp;"):(u=$('<div aria-role="alert" aria-live="assertive" aria-atomic="true" class="clipboard-announcement show-for-sr"></div>'),t.after(u),t.data("clipboard-message-element",u)),u.html(s)}}}}}))}));n(12757);$((function(){$(".js-append").appendAround()}));n(4809),n(31512),n(55807),n(42380);document.addEventListener("ajax:beforeSend",(function(e){e.target.matches("form[data-remote]")&&e.target.querySelectorAll("[type=submit]").forEach((function(e){e.disabled=!0}))})),document.addEventListener("ajax:complete",(function(e){e.target.matches("form[data-remote]")&&e.target.querySelectorAll("[type=submit]").forEach((function(e){e.disabled=!1}))})),$(document).on("submit","form[data-remote][data-abide]",(function(e){e.preventDefault(),e.target.querySelectorAll("[data-invalid]").length>0||Reflect.apply(a().handleRemote,e.target,[e])}));n(23191);$((function(){W.ZP.MediaQuery.atLeast("medium")||$(".js-conference").hover((function(){var e=$(window).scrollTop()+.1*$(window).height();$(this).find(".js-bio").css("top",e)}))}));n(7226),n(813),n(18276),n(50051),n(33208),n(86326),n(93320),n(10305),n(12144);var ae=function(e){$(document).on("click","".concat(e.containerSelector," a"),(function(e){var t=$(e.target);t.parents(".menu").find("a:first").text(t.text()),(0,te.qA)(t.attr("href"))})),(0,te.jC)(e.callbackName,(function(){var t=window.location.toString().match(/${options.urlParameter}=([^&]*)/),n=$("".concat(e.containerSelector," .menu")),i=n.find(".menu a:first").data(e.dataAttribute);t&&(i=t[1]);var a=n.find(".menu a[data-".concat(e.dataAttribute,'="').concat(i,'"]')).text();n.find("a:first").text(a)}))};$((function(){ae({containerSelector:".order-by",callbackName:"orders",urlParameter:"order",dataAttribute:"order"}),ae({containerSelector:".results-per-page",callbackName:"results_per_page",urlParameter:"per_page",dataAttribute:"per-page-option"})}));n(65927);var re=n(27484),oe=n.n(re);$((function(){var e=$(".impersonation-warning");if(e.length){var t=oe()(e.data("session-ends-at")),n=setInterval((function(){var n=(t-oe()())/6e4,i=Math.round(n);e.find(".minutes").html(i),n<=0&&window.location.reload()}),1e3);window.addEventListener("beforeunload",(function(){clearInterval(n)}))}}));n(91923),n(20864),n(88803),n(70815),n(93491);var ce=n(31955);function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function ue(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(a=i.key,r=void 0,r=function(e,t){if("object"!==se(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==se(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===se(r)?r:String(r)),i)}var a,r}var le=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal=t.modal,this.categories=t.categories,this.cookieName=t.cookieName,this.cookie=ce.Z.get(this.cookieName),this.warningElement=t.warningElement,this.cookie?this.updateState(JSON.parse(this.cookie)):this.updateState({})}var t,n,i;return t=e,(n=[{key:"updateState",value:function(e){this.state=e,ce.Z.set(this.cookieName,JSON.stringify(this.state),{domain:document.location.host.split(":")[0],sameSite:"Lax",expires:365,secure:"https:"===window.location.protocol}),this.updateModalSelections(),this.triggerState()}},{key:"triggerJavaScripts",value:function(){var e=this;document.querySelectorAll("script[type='text/plain'][data-consent]").forEach((function(t){if(e.state[t.dataset.consent]){var n=document.createElement("script");t.src.length>0?n.src=t.src:n.innerHTML=t.innerHTML,t.parentNode.replaceChild(n,t)}}));var t=new CustomEvent("dataconsent",{detail:this.state});document.dispatchEvent(t)}},{key:"triggerIframes",value:function(){this.allAccepted()?document.querySelectorAll(".disabled-iframe").forEach((function(e){if(e.childNodes&&e.childNodes.length){var t=Array.from(e.childNodes).find((function(e){return e.nodeType===Node.COMMENT_NODE}));if(!t)return;var n=document.createElement("div");n.innerHTML=t.nodeValue,e.parentNode.replaceChild(n.firstElementChild,e)}})):document.querySelectorAll("iframe").forEach((function(e){var t=document.createElement("div");t.className="disabled-iframe",t.appendChild(document.createComment("".concat(e.outerHTML))),e.parentNode.replaceChild(t,e)}))}},{key:"triggerWarnings",value:function(){var e=this;document.querySelectorAll(".disabled-iframe").forEach((function(t){if(!t.querySelector(".dataconsent-warning")){var n=e.warningElement.cloneNode(!0);n.classList.remove("hide"),t.appendChild(n)}}))}},{key:"triggerState",value:function(){this.triggerJavaScripts(),this.triggerIframes(),this.triggerWarnings()}},{key:"allAccepted",value:function(){var e=this;return this.categories.every((function(t){return!0===e.state[t]}))}},{key:"updateModalSelections",value:function(){var e=this;this.modal.querySelectorAll(".category-wrapper").forEach((function(t){var n=t.querySelector("input");e.state&&e.state[n.name]?n.checked=!0:n.disabled||(n.checked=!1)}))}},{key:"saveSettings",value:function(e){this.updateState(e)}},{key:"acceptAll",value:function(){var e={};this.categories.forEach((function(t){e[t]=!0})),this.updateState(e)}},{key:"rejectAll",value:function(){this.updateState({essential:!0})}},{key:"getState",value:function(){return this.state}}])&&ue(t.prototype,n),i&&ue(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function de(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#dc-modal");if(e){var t=de(e.querySelectorAll(".category-wrapper")).map((function(e){return e.dataset.id})),n=new le({modal:e,categories:t,cookieName:window.Decidim.config.get("consent_cookie_name"),warningElement:document.querySelector(".dataconsent-warning")});!function(e){var t=document.querySelectorAll(".disabled-iframe");e.allAccepted()&&t.forEach((function(e){var t=document.createElement("iframe");t.setAttribute("src",e.getAttribute("src")),t.className=e.classList.toString(),t.setAttribute("allowfullscreen",e.getAttribute("allowfullscreen")),t.setAttribute("frameborder",e.getAttribute("frameborder")),e.parentElement.appendChild(t),e.remove()}))}(n),function(e){e.modal.querySelectorAll(".category-wrapper").forEach((function(e){var t=e.querySelector(".dc-title"),n=e.querySelector(".dc-description");t.addEventListener("click",(function(){n.classList.contains("hide")?(t.classList.add("open"),n.classList.remove("hide")):(t.classList.remove("open"),n.classList.add("hide"))}))}));var t=e.modal.querySelector("#dc-modal-accept"),n=e.modal.querySelector("#dc-modal-reject"),i=e.modal.querySelector("#dc-modal-save");t.addEventListener("click",(function(){e.acceptAll()})),n.addEventListener("click",(function(){e.rejectAll()})),i.addEventListener("click",(function(){var t={};e.categories.forEach((function(n){e.modal.querySelector("input[name='".concat(n,"']")).checked&&(t[n]=!0)})),e.saveSettings(t)}))}(n),function(e){if(!(Object.keys(e.state).length>0)){var t=document.querySelector("#dc-dialog-wrapper");t.classList.remove("hide");var n=t.querySelector("#dc-dialog-accept"),i=t.querySelector("#dc-dialog-reject"),a=t.querySelector("#dc-dialog-settings");n.addEventListener("click",(function(){e.acceptAll(),t.style.display="none"})),i.addEventListener("click",(function(){e.rejectAll(),t.style.display="none"})),a.addEventListener("click",(function(){t.style.display="none"}))}}(n)}}));n(89204);window.morphdom=r.Z,n(65615),a().start()},31512:function(){$((function(){!function(){var e=document.querySelector("form.edit_user");if(e){var t=e.querySelector("#passwordChange");if(t){var n=t.querySelectorAll("input[type='password']");if(!(n.length<1)){var i=function(e){$(n).attr("required",e),e||n.forEach((function(e){return e.value=""}))};$(t).on("on.zf.toggler",(function(){i(!0)})),$(t).on("off.zf.toggler",(function(){i(!1)})),i(!1)}}}}(),function(){var e=$(".delete-account"),t=$(".delete-account-modal");if(!(e.length<1)){var n=$(".open-modal-button"),i=$("#deleteConfirm");n.on("click",(function(n){try{var a=e.find("textarea#delete_account_delete_reason").val();t.find("input#delete_account_delete_reason").val(a),i.foundation("open")}catch(r){console.error(r)}return n.preventDefault(),n.stopPropagation(),!1}))}}()}))},55807:function(){$((function(){$(document).on("click.zf.trigger",(function(e){var t="#".concat($(e.target).data("open")),n=$(e.target).data("redirectUrl");t&&n&&($("<input type='hidden' />").attr("id","redirect_url").attr("name","redirect_url").attr("value",n).appendTo("".concat(t," form")),$("".concat(t," a")).attr("href",(function(e,t){var i=jQuery.param({redirect_url:n});return t+(t.match(/\?/)?"&":"?")+i})))})),$(document).on("closed.zf.reveal",(function(e){$("#redirect_url",e.target).remove(),$("a",e.target).attr("href",(function(e,t){return t&&-1!==t.indexOf("redirect_url")?function(e,t){var n=e.split("?");if(n.length>=2){for(var i=n.shift(),a=n.join("?"),r="".concat(encodeURIComponent(t),"="),o=a.split(/[&;]/g),c=o.length-1;c>=0;c-=1)-1!==o[c].lastIndexOf(r,0)&&o.splice(c,1);return 0===o.length?i:"".concat(i,"?").concat(o.join("&"))}return e}(t,"redirect_url"):t}))}))}))},31013:function(){$((function(){var e=$('.callout[role="alert"]:first');e.length>0&&setTimeout((function(){e.attr("tabindex","0").focus().html("".concat(e.html(),"&nbsp;"))}),500)}))},18276:function(){$(document).ready((function(){$(".scroll-to-last-message").length>0&&window.scrollTo({top:$(".conversation-chat:last-child").offset().top,behavior:"smooth"})}))},813:function(){$((function(){var e=$(".row.diff_view");$(document).on("click",".diff-view-by a.diff-view-mode",(function(t){t.preventDefault();var n=$(t.target),i="escaped",a=n.parents(".is-dropdown-submenu-parent").find("#diff-view-selected");a.text().trim()!==n.text().trim()&&(a.text(n.text()),"diff-view-unified"===n.attr("id")&&($(".row.diff_view_split_escaped").hasClass("hide")&&(i="unescaped"),e.addClass("hide"),$(".row.diff_view_unified_".concat(i)).removeClass("hide")),"diff-view-split"===n.attr("id")&&($(".row.diff_view_unified_escaped").hasClass("hide")&&(i="unescaped"),e.addClass("hide"),$(".row.diff_view_split_".concat(i)).removeClass("hide")))})),$(document).on("click",".diff-view-by a.diff-view-html",(function(t){t.preventDefault();var n=$(t.target);n.parents(".is-dropdown-submenu-parent").find("#diff-view-html-selected").text(n.text());var i=e.not(".hide").first().attr("id").split("_").slice(1,-1).join("_"),a=e.filter("[id*=".concat(i,"]"));"diff-view-escaped-html"===n.attr("id")&&(a.filter("[id$=_unescaped]").addClass("hide"),a.filter("[id$=_escaped]").removeClass("hide")),"diff-view-unescaped-html"===n.attr("id")&&(a.filter("[id$=_escaped]").addClass("hide"),a.filter("[id$=_unescaped]").removeClass("hide"))}))}))},10305:function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}$((function(){if(window.localStorage){var t=function(){var e=localStorage.getItem("dismissedHelpers");return e?e.split(","):[]},n=t();$(".floating-helper-container").each((function(i,a){var r=$(a).data("help-id");$(".floating-helper__trigger, .floating-helper__content-close",a).on("click",(function(e){e.preventDefault()})),n.includes(r)||($(".floating-helper",a).foundation("toggle"),$(".floating-helper__wrapper",a).foundation("toggle"),$(".floating-helper",a).on("off.zf.toggler",(function(){!function(n){var i=t();i.includes(n)||localStorage.setItem("dismissedHelpers",[].concat(e(i),[n]).join(","))}(r)})))}))}}))},42380:function(){$((function(){$("form .attachments_container").on("closed.zf.callout",(function(e){$(e.target).remove()}))}))},3432:function(e,t,n){"use strict";n.d(t,{AP:function(){return r},SB:function(){return s},jC:function(){return a},lO:function(){return c},qA:function(){return o}});var i={};function a(e,t){i[e]=t}var r=function(e){i[e]=null},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;window.history&&window.history.pushState(t,null,e)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;window.history&&window.history.replaceState(t,null,e)},s=function(){return window.history?window.history.state:null};window.onpopstate=function(e){if(e.isTrusted)for(var t in i)i.hasOwnProperty(t)&&i[t](e.state)}},88803:function(){$((function(){var e=$("#select-identity-button"),t=null,n=$("#user-identities");n.length&&(t=n.data("reveal-identities-url"),e.click((function(){$.ajax(t).done((function(t){n.html(t).foundation("open"),e.trigger("ajax:success")}))})))})),$((function(){$("#select-identity-button").on("ajax:success",(function(){$("#user-identities ul.reveal__list li").each((function(e,t){var n=$(t);n.on("click",(function(){var e=n.data("method"),t=null;t="POST"===e?"create_url":"destroy_url",$.ajax({url:n.data(t),method:e,dataType:"script",success:function(){n.hasClass("selected")?(n.removeClass("selected"),n.find(".icon--circle-check").addClass("invisible"),n.data("method","POST")):(n.addClass("selected"),n.find(".icon--circle-check").removeClass("invisible"),n.data("method","DELETE"))}})}))}))}))}))},12624:function(){$((function(){var e=$("input[data-autojump]");e.on("keydown",(function(e){e.target.selectionStart===e.target.selectionEnd&&(1===e.originalEvent.key.length&&e.target.dataset.jumpNext?e.target.value.length===parseInt(e.target.dataset.maxLength,10)&&(e.preventDefault(),setTimeout((function(){var t=$(e.target.dataset.jumpNext);t.val(e.originalEvent.key),t.trigger("focus")}),1)):8===e.originalEvent.keyCode&&e.target.dataset.jumpPrev&&0===e.target.value.length&&(e.preventDefault(),setTimeout((function(){var t=$(e.target.dataset.jumpPrev);t.val(t.val().slice(0,-1)),t.trigger("focus")}),1)))}))}))},20864:function(){$((function(){var e=$(".title-bar .topbar__notifications"),t=$(".wrapper"),n=t.find("#notifications"),i=$(".empty-notifications"),a=t.find("ul.pagination"),r=function(){t.find(".card--widget").length>0||(n.remove(),i.removeClass("hide"))};n.on("click",".mark-as-read-button",(function(e){var t=$(e.target).parents(".card--widget");t.fadeOut(500,(function(){t.remove(),r()}))})),t.on("click",".mark-all-as-read-button",(function(){n.fadeOut(500,(function(){a.remove(),e.removeClass("is-active"),t.find(".card--widget").remove(),r()}))})),r()}))},65927:function(){$((function(){var e=$(".represent-user-group").find("input#user_group"),t=$(".user-group-fields");e.click((function(){t.find("select").val()||t.toggle(),t.is(":visible")?e.prop("checked",!0):e.prop("checked",!1)}))}))},33208:function(){$((function(){var e=$(".responsive-tab-block");e.click((function(t){null!==t.target.closest(".is-active")&&(t.preventDefault(),window.innerWidth<=639&&e.toggleClass("expanded"))}))}))},86326:function(){$((function(){if(console){0;var e=window.Decidim.config.get("messages");if(e){var t=e.selfxssWarning;console.log("%c".concat(t.title),"color:#f00;font-weight:bold;font-size:50px;"),console.log("%c".concat(t.description),"font-size:24px;")}}}))},91923:function(){$((function(){var e=$("#user-conversations-add-modal"),t=$("#start-conversation-dialog-button");if(e.length){e.data("refresh-url");t.click((function(){e.foundation("open")}))}}))},7226:function(){$((function(){setTimeout((function(){$(".tooltip").on("mouseover",(function(){$("[data-keep-on-hover='true'][data-toggle='".concat(this.id,"']")).foundation("show")})).on("mouseout",(function(){$("[data-keep-on-hover='true'][data-toggle='".concat(this.id,"']")).foundation("hide")}))}),0)}))},4809:function(){$((function(){var e=$("#register-form"),t=e.find(".user-group-fields"),n='input[name="user[sign_up_as]"]',i='input[type="checkbox"][name="user[newsletter]"]',a=$("#sign-up-newsletter-modal"),r=function(e){"user"===e?t.hide():t.show()};r(e.find("".concat(n,":checked")).val()),e.on("change",n,(function(e){var t=e.target.value;r(t)})),e.on("submit",(function(t){var n=e.find(i);a.data("continue")||n.prop("checked")||(t.preventDefault(),a.foundation("open"))})),a.find(".check-newsletter").on("click",(function(t){var n;n=$(t.target).data("check"),e.find(i).prop("checked",n),a.data("continue",!0),a.foundation("close"),e.submit()}))}))},92879:function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}!function(t,n,i){function a(t,n){return e(t)===n}var r=[],o=[],c={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){o.push({name:e,fn:t,options:n})},addAsyncTest:function(e){o.push({name:null,fn:e})}},s=function(){};s.prototype=c,s=new s;var u=n.documentElement,l="svg"===u.nodeName.toLowerCase();(function(){var e,t,n,i,c,u;for(var l in o)if(o.hasOwnProperty(l)){if(e=[],(t=o[l]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(i=a(t.fn,"function")?t.fn():t.fn,c=0;c<e.length;c++)1===(u=e[c].split(".")).length?s[u[0]]=i:(!s[u[0]]||s[u[0]]instanceof Boolean||(s[u[0]]=new Boolean(s[u[0]])),s[u[0]][u[1]]=i),r.push((i?"":"no-")+u.join("-"))}})(),function(e){var t=u.className,n=s._config.classPrefix||"";if(l&&(t=t.baseVal),s._config.enableJSClass){var i=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(i,"$1"+n+"js$2")}s._config.enableClasses&&(t+=" "+n+e.join(" "+n),l?u.className.baseVal=t:u.className=t)}(r),delete c.addTest,delete c.addAsyncTest;for(var d=0;d<s._q.length;d++)s._q[d]();t.Modernizr=s}(window,document)},3322:function(){window.SocialShareButton={openUrl:function(e,t,n){null===t&&(t=640),null===n&&(n=480);var i=screen.width/2-t/2,a=.3*screen.height-n/2,r="width=".concat(t,",height=").concat(n,",left=").concat(i,",top=").concat(a,",menubar=no,status=no,location=no");return window.open(e,"popup",r),!1},share:function(e){null===e.getAttribute&&(e=document.querySelector(e));var t,n,i=e.getAttribute("data-site"),a=e.getAttribute("data-appkey")||"",r=e.parentNode,o=encodeURIComponent(e.getAttribute("data-".concat(i,"-title"))||r.getAttribute("data-title")||""),c=encodeURIComponent(r.getAttribute("data-img")||""),s=encodeURIComponent(r.getAttribute("data-url")||""),u=encodeURIComponent(r.getAttribute("data-via")||""),l=encodeURIComponent(r.getAttribute("data-desc")||" "),d=window[window.GoogleAnalyticsObject||"ga"];switch("function"===typeof d&&d("send","event","Social Share Button","click",i),0===s.length&&(s=encodeURIComponent(location.href)),i){case"email":location.href="mailto:?subject=".concat(o,"&body=").concat(s);break;case"weibo":this.openUrl("http://service.weibo.com/share/share.php?url=".concat(s,"&type=3&pic=").concat(c,"&title=").concat(o,"&appkey=").concat(a),620,370);break;case"twitter":var f=encodeURIComponent(e.getAttribute("data-".concat(i,"-hashtags"))||r.getAttribute("data-hashtags")||""),m="";u.length>0&&(m="&via=".concat(u)),this.openUrl("https://twitter.com/intent/tweet?url=".concat(s,"&text=").concat(o,"&hashtags=").concat(f).concat(m),650,300);break;case"douban":this.openUrl("http://shuo.douban.com/!service/share?href=".concat(s,"&name=").concat(o,"&image=").concat(c,"&sel=").concat(l),770,470);break;case"facebook":this.openUrl("http://www.facebook.com/sharer/sharer.php?u=".concat(s),555,400);break;case"qq":this.openUrl("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=".concat(s,"&title=").concat(o,"&pics=").concat(c,"&summary=").concat(l,"&site=").concat(a));break;case"google_bookmark":this.openUrl("https://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk=".concat(s,"&title=").concat(o));break;case"delicious":this.openUrl("https://del.icio.us/save?url=".concat(s,"&title=").concat(o,"&jump=yes&pic=").concat(c));break;case"pinterest":this.openUrl("http://www.pinterest.com/pin/create/button/?url=".concat(s,"&media=").concat(c,"&description=").concat(o));break;case"linkedin":this.openUrl("https://www.linkedin.com/shareArticle?mini=true&url=".concat(s,"&title=").concat(o,"&summary=").concat(l));break;case"xing":this.openUrl("https://www.xing.com/spi/shares/new?url=".concat(s));break;case"vkontakte":this.openUrl("http://vk.com/share.php?url=".concat(s,"&title=").concat(o,"&image=").concat(c));break;case"odnoklassniki":this.openUrl("https://connect.ok.ru/offer?url=".concat(s,"&title=").concat(o,"&description=").concat(l,"&imageUrl=").concat(c));break;case"wechat":if(!window.SocialShareWeChatButton)throw new Error("You should require social-share-button/wechat to your application.js");window.SocialShareWeChatButton.qrcode({url:decodeURIComponent(s),header:e.getAttribute("title"),footer:e.getAttribute("data-wechat-footer")});break;case"tumblr":var p=function(t){var n=e.getAttribute("data-".concat(t));if(n)return encodeURIComponent(n)};this.openUrl("http://www.tumblr.com/share".concat((t=p("type")||"link",n=function(){switch(t){case"text":return o=p("title")||o,"title=".concat(o);case"photo":o=p("caption")||o;var e=p("source")||c;return"caption=".concat(o,"&source=").concat(e);case"quote":var n=p("quote")||o,i=p("source")||"";return"quote=".concat(n,"&source=").concat(i);default:return o=p("title")||o,s=p("url")||s,"name=".concat(o,"&url=").concat(s)}}(),"/".concat(t,"?").concat(n))));break;case"reddit":this.openUrl("http://www.reddit.com/submit?url=".concat(s,"&newwindow=1"),555,400);break;case"hacker_news":this.openUrl("http://news.ycombinator.com/submitlink?u=".concat(s,"&t=").concat(o),770,500);break;case"telegram":this.openUrl("https://telegram.me/share/url?text=".concat(o,"&url=").concat(s));break;case"whatsapp_app":var h="whatsapp://send?text=".concat(o,"%0A").concat(s);window.open(h,"_top");break;case"whatsapp_web":this.openUrl("https://web.whatsapp.com/send?text=".concat(o,"%0A").concat(s))}return!1}}},89204:function(e,t,n){n(48999)},88450:function(e,t,n){"use strict";e.exports=n.p+"media/images/avatar-multiuser-67c042dbbc8661cd06df.png"},93970:function(e,t,n){"use strict";e.exports=n.p+"media/images/google-b8225d6a9b718fa1749f.svg"},28733:function(e,t,n){"use strict";e.exports=n.p+"media/images/cc-badge-afa3eec02a18f532285b.png"},47294:function(e,t,n){"use strict";e.exports=n.p+"media/images/decidim-logo-318879ac2f9a6dd9ab6b.svg"},62938:function(e,t,n){"use strict";e.exports=n.p+"media/images/default-avatar-aaa9e55bac5d7159b847.svg"},16536:function(e,t,n){"use strict";e.exports=n.p+"media/images/decidim_gamification_badges_followers-36313db34d9f324a71e6.svg"},72096:function(e,t,n){"use strict";e.exports=n.p+"media/images/icons-c4fd0f43651700b0c768.svg"},39547:function(e,t,n){"use strict";e.exports=n.p+"media/images/pattern-9e37fb0574a565bf2708.png"},19124:function(e,t,n){"use strict";e.exports=n.p+"media/images/placeholder-61ceac35d772dbb11647.jpg"},98188:function(e,t,n){"use strict";e.exports=n.p+"media/images/layers-2x-8f2c4d11474275fbc161.png"},6137:function(e,t,n){"use strict";e.exports=n.p+"media/images/layers-416d91365b44e4b4f477.png"},69857:function(e,t,n){"use strict";e.exports=n.p+"media/images/marker-icon-2x-680f69f3c2e6b90c1812.png"},86464:function(e,t,n){"use strict";e.exports=n.p+"media/images/marker-icon-2b3e1faf89f94a483539.png"},48824:function(e,t,n){"use strict";e.exports=n.p+"media/images/marker-shadow-a0c6cc1401c107b501ef.png"},40696:function(e,t,n){"use strict";e.exports=n.p+"media/images/delicious-645ddfaca5163af23947.svg"},609:function(e,t,n){"use strict";e.exports=n.p+"media/images/douban-59306a4ec1a7595eda35.svg"},96318:function(e,t,n){"use strict";e.exports=n.p+"media/images/email-d79a53d1d223015094db.svg"},13979:function(e,t,n){"use strict";e.exports=n.p+"media/images/facebook-0ada3788990cda55b9ba.svg"},56456:function(e,t,n){"use strict";e.exports=n.p+"media/images/google_bookmark-524f99e4fffb564dda37.svg"},78242:function(e,t,n){"use strict";e.exports=n.p+"media/images/google_plus-4118815a76b760dea8e7.svg"},51109:function(e,t,n){"use strict";e.exports=n.p+"media/images/hacker_news-b117e036a024756086ab.svg"},72358:function(e,t,n){"use strict";e.exports=n.p+"media/images/linkedin-96905a0a4097dc978626.svg"},28959:function(e,t,n){"use strict";e.exports=n.p+"media/images/odnoklassniki-cef3146ee2d5fdb32157.svg"},41086:function(e,t,n){"use strict";e.exports=n.p+"media/images/pinterest-e1a7ea454b158f6c3fd6.svg"},28930:function(e,t,n){"use strict";e.exports=n.p+"media/images/qq-883b6ea8c69ef9ce093c.svg"},7823:function(e,t,n){"use strict";e.exports=n.p+"media/images/reddit-f39b812702e7016a015a.svg"},83818:function(e,t,n){"use strict";e.exports=n.p+"media/images/telegram-ca65ba180088505e1371.svg"},32315:function(e,t,n){"use strict";e.exports=n.p+"media/images/tumblr-4d59e5b74838fa10b52f.svg"},27356:function(e,t,n){"use strict";e.exports=n.p+"media/images/twitter-ee390c342f9f90074a88.svg"},87996:function(e,t,n){"use strict";e.exports=n.p+"media/images/vkontakte-e41f3b3192e8f0eab1d1.svg"},8478:function(e,t,n){"use strict";e.exports=n.p+"media/images/wechat-28b576b3290e9cb55115.svg"},47384:function(e,t,n){"use strict";e.exports=n.p+"media/images/weibo-20a80f206cb23e64c556.svg"},52098:function(e,t,n){"use strict";e.exports=n.p+"media/images/whatsapp-8f3586f10ca30504aed4.svg"},93211:function(e,t,n){"use strict";e.exports=n.p+"media/images/xing-dc9a2b2304a9d39eea11.svg"}},n={};function i(e){var a=n[e];if(void 0!==a)return a.exports;var r=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=t,e=[],i.O=function(t,n,a,r){if(!n){var o=1/0;for(l=0;l<e.length;l++){n=e[l][0],a=e[l][1],r=e[l][2];for(var c=!0,s=0;s<n.length;s++)(!1&r||o>=r)&&Object.keys(i.O).every((function(e){return i.O[e](n[s])}))?n.splice(s--,1):(c=!1,r<o&&(o=r));if(c){e.splice(l--,1);var u=a();void 0!==u&&(t=u)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[n,a,r]},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},i.p="/decidim-packs/",function(){var e={2835:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,r,o=n[0],c=n[1],s=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(a in c)i.o(c,a)&&(i.m[a]=c[a]);if(s)var l=s(i)}for(t&&t(n);u<o.length;u++)r=o[u],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(l)},n=self.webpackChunkdecidim_sb_app=self.webpackChunkdecidim_sb_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var a=i.O(void 0,[2415,6795,6690,2619,4705,5801,8281,3875],(function(){return i(97678)}));a=i.O(a)}();
//# sourceMappingURL=decidim_core-90972058357efb7d2f7f.js.map